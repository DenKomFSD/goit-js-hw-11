{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImages(query) {\n  const baseUrl = 'https://pixabay.com/api/';\n  const keyApi = '26468965-37c536f46ba330a607460f03f';\n\n  const queryParams = new URLSearchParams({\n    key: keyApi,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 30,\n  });\n\n  return fetch(`${baseUrl}?${queryParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function renderGalleryImages(images, hasImages) {\n  if (!hasImages) {\n    iziToast.error({\n      title: 'Error',\n      message: `Sorry, there are no images matching your search query. Please try again!`,\n      backgroundColor: '#EF4040',\n      messageColor: '#fff',\n      titleColor: '#fff',\n      progressBarColor: '#B51B1B',\n      position: 'topRight',\n    });\n    return;\n  }\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class ='gallery-item'>\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img class=\"gallery-image\"\n                  src=\"${webformatURL}\"\n                  alt=\"${tags}\"\n                  width=\"360\"\n                  height=\"152\"/>\n            </a>  \n            <div class='info-block'>\n                <div class=\"info\">\n                    <h3 class = \"head-likes\">Likes</h3>\n                    <p>${likes}</p>\n                </div>\n                <div class=\"info\">\n                    <h3 class = \"head-views\">Views</h3>\n                    <p>${views}</p>\n                </div>\n                <div class=\"info\">\n                    <h3 class = \"head-comments\">Comments</h3>\n                    <p>${comments}</p>\n                </div>\n                            <div class=\"info\">\n                    <h3 class = \"head-downloads\">Downloads</h3>\n                    <p>${downloads}</p>\n                </div>\n            </div>\n      </li>`\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { getImages } from './js/pixabay-api';\nimport { renderGalleryImages } from './js/render-functions';\n\nconst gallery = document.querySelector('.gallery');\nconst form = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery-item a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionPosition: 'bottom',\n});\nform.addEventListener('submit', imageFetch);\n\nfunction imageFetch(event) {\n  event.preventDefault();\n  gallery.innerHTML = '';\n\n  const inputValue = event.currentTarget.elements.search.value.trim();\n\n  if (inputValue === '') {\n    iziToast.error({\n      title: 'Error',\n      message: `Please enter a search query.`,\n      position: 'topRight',\n    });\n    return;\n  }\n\n  loader.classList.remove('is-hidden');\n\n  getImages(inputValue)\n    .then(response => {\n      // if (!response.hits || response.hits.length === 0) {\n      //   // Перевірка наявності зображень тут\n      //   iziToast.error({\n      //     title: 'Error',\n      //     message: `Sorry, there are no images matching your search query. Please try again!`,\n      //     backgroundColor: '#EF4040',\n      //     messageColor: '#fff',\n      //     titleColor: '#fff',\n      //     progressBarColor: '#B51B1B',\n      //     position: 'topRight',\n      //   });\n      //   return;\n      // }\n\n      //new code\n      const hasImages = response.hits && response.hits.length > 0;\n      const html = renderGalleryImages(response.hits, hasImages);\n      gallery.innerHTML = html;\n      //new code\n      if (hasImages) {\n        lightbox.refresh();\n      } else {\n        iziToast.error({\n          title: 'Error',\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          backgroundColor: '#EF4040',\n          messageColor: '#fff',\n          titleColor: '#fff',\n          progressBarColor: '#B51B1B',\n          position: 'topRight',\n        });\n      }\n      event.target.reset();\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: `${error}`,\n      });\n    })\n    .finally(() => {\n      loader.classList.add('is-hidden');\n    });\n}\n"],"names":["getImages","query","baseUrl","keyApi","queryParams","response","renderGalleryImages","images","hasImages","iziToast","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","form","loader","lightbox","SimpleLightbox","imageFetch","event","inputValue","html","error"],"mappings":"6vBAAO,SAASA,EAAUC,EAAO,CAC/B,MAAMC,EAAU,2BACVC,EAAS,qCAETC,EAAc,IAAI,gBAAgB,CACtC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EAED,OAAO,MAAM,GAAGC,CAAO,IAAIE,CAAW,EAAE,EAAE,KAAKC,GAAY,CACzD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CChBO,SAASC,EAAoBC,EAAQC,EAAW,CACrD,GAAI,CAACA,EAAW,CACdC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,gBAAiB,UACjB,aAAc,OACd,WAAY,OACZ,iBAAkB,UAClB,SAAU,UAChB,CAAK,EACD,MACD,CACD,OAAOF,EACJ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,4CACoCL,CAAa;AAAA;AAAA,yBAEhCD,CAAY;AAAA,yBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAOJC,CAAK;AAAA;AAAA;AAAA;AAAA,yBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yBAIRC,CAAS;AAAA;AAAA;AAAA,YAI7B,EACA,KAAK,EAAE,CACZ,CCjDA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,kBAAmB,CACrD,aAAc,MACd,aAAc,IACd,gBAAiB,QACnB,CAAC,EACDH,EAAK,iBAAiB,SAAUI,CAAU,EAE1C,SAASA,EAAWC,EAAO,CACzBA,EAAM,eAAc,EACpBN,EAAQ,UAAY,GAEpB,MAAMO,EAAaD,EAAM,cAAc,SAAS,OAAO,MAAM,OAE7D,GAAIC,IAAe,GAAI,CACrBf,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDU,EAAO,UAAU,OAAO,WAAW,EAEnCnB,EAAUwB,CAAU,EACjB,KAAKnB,GAAY,CAgBhB,MAAMG,EAAYH,EAAS,MAAQA,EAAS,KAAK,OAAS,EACpDoB,EAAOnB,EAAoBD,EAAS,KAAMG,CAAS,EACzDS,EAAQ,UAAYQ,EAEhBjB,EACFY,EAAS,QAAO,EAEhBX,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,gBAAiB,UACjB,aAAc,OACd,WAAY,OACZ,iBAAkB,UAClB,SAAU,UACpB,CAAS,EAEHc,EAAM,OAAO,OACnB,CAAK,EACA,MAAMG,GAAS,CACdjB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,GAAGiB,CAAK,EACzB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbP,EAAO,UAAU,IAAI,WAAW,CACtC,CAAK,CACL"}